<div class="ui raised padded segment container clearfix animated fadeInUp">
  <div class="ui form">
    <hgroup class="clearfix">
      <h1 class="ui header left floated">
        Assign New Document to {{this.model.employee.fullName}}
      </h1>
    </hgroup>
    <div class="ui divider"></div>

    <div class="field">
      {{#input/document-selection-modal
        title="New Document"
        selected=this.model.file
        assignText="Use Document"
        singleDoc=true
        onSelected=(action (mut this.model.file))
        as |execute|
      }}
        <button class="ui basic button" {{action execute "selectDocuments"}}>
          <i class="folder icon"></i>
          Add document
          {{#if this.model.file}}
            <span class="ui label">{{this.model.file.title}}</span>
          {{/if}}
        </button>
      {{/input/document-selection-modal}}
    </div>

    <div class="field">
      {{#ui-checkbox
        class="small"
        checked=this.model.visibleToEmployee
        onChange=(action (mut this.model.visibleToEmployee))
      }}
        <label>
          Visible To Employee
        </label>
      {{/ui-checkbox}}
    </div>
    <div class="field">
      {{#ui-checkbox
        class="small"
        disabled=(not this.model.visibleToEmployee)
        checked=this.model.signatureRequired
        onChange=(action (mut this.model.signatureRequired))
      }}
        <label>
          Require Signature
        </label>
      {{/ui-checkbox}}
    </div>

    <div class="field center aligned text">
      {{ui-checkbox
        class="toggle"
        label="Assign for a future Date"
        checked=this.isExpanded
        onChange=(action (toggle "isExpanded" this))}}
    </div>
    {{#if this.isExpanded}}
      {{ui-calendar
        class="field"
        type="date"
        inline=true
        onChange=(action (mut this.model.effectiveOn))}}
    {{/if}}

    <div class="ui divider"></div>
    <form {{action "save" on="submit"}}>
      {{#form/action-button type="submit" class="ui huge fluid green button" loading=this.working disabled=(not this.model.file)}}Assign Document{{/form/action-button}}
    </form>
  </div>
</div>
