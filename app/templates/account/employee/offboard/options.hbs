<form class="ui form" {{action "saveAndContinue" on="submit"}}>
  <h2 class="ui horizontal divider header">Offboarding Options</h2>

  <div class="field">
    <label for="final-address-ss">Final Address</label>
    {{ui-checkbox id="final-address-ss" class="toggle" label=(if model.finalAddressSelfService "Collect final address from employee" "Enter final address") checked=model.finalAddressSelfService onChange=(action (mut model.finalAddressSelfService))}}
  </div>

  {{#unless model.finalAddressSelfService}}
    <div class="animated fadeInUp">
      <div class="field">
        <label for="address-line-1">Address Line 1</label>
        {{input type="text" value=model.finalAddressLine1 placeholder="Address Line 1" id="address-line-1"}}
      </div>
      <div class="field">
        <label for="address-line-2">Address Line 2</label>
        {{input type="text" value=model.finalAddressLine2 placeholder="Address Line 2" id="address-line-2"}}
      </div>
      <div class="three fields">
        <div class="field">
          <label for="address-city">City</label>
          {{input type="text" value=model.finalAddressCity placeholder="City" id="address-city"}}
        </div>
        <div class="field">
          <label for="state-name">State</label>
          {{#ui-dropdown class="search selection" selected=model.finalAddressState onChange=(action (mut model.finalAddressState))}}
            {{#if stateIsMontana}}<i class="text-danger heart icon"></i>{{/if}}
            <div class="default text">State</div>
            <i class="dropdown icon"></i>
            <div class="menu">
              {{#each states as |state|}}
                <div class="item" data-value="{{state.value}}">
                  {{state.label}}
                </div>
              {{/each}}
            </div>
          {{/ui-dropdown}}
        </div>
        <div class="field">
          <label for="address-zip">Zip</label>
          {{input type="text" value=model.finalAddressZip placeholder="Zip" id="address-zip"}}
        </div>
      </div>
    </div>
  {{/unless}}

  <div class="ui divider"></div>

  <div class="field">
    <label for="final-email">Final Email Address</label>
    {{input type="email" value=model.finalEmail placeholder="Final Email" id="final-email"}}
  </div>

  <div class="field">
    <label for="exit-interview">Automated Exit Interview</label>
    {{ui-checkbox id="exit-interview" class="toggle" label=(if model.autoExitInterview "Conduct exit interview" "Do not conduct exit interview") checked=model.autoExitInterview onChange=(action (mut model.autoExitInterview))}}
    {{!TODO Spec this}}
  </div>
  <div class="field">
    {{input/document-selection-modal title="Select Offboarding Documents" buttonText="Assign Offboarding Documents"}}
  </div>

  <div class="ui divider"></div>
  {{#form/action-button type="submit" class="ui huge fluid green button" loading=working}}Next{{/form/action-button}}
</form>
