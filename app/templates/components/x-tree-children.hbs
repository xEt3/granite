{{#if hasBlock}}
  <XTreeNode @select={{this.select}} @hover={{this.hover}} @hoverOut={{this.hoverOut}} @checkable={{this.checkable}} @chosenId={{this.chosenId}} @recalculateStateAction={{action this.recalculateState}} @model={{this.model}} as |node|>
    {{yield node}}
  </XTreeNode>

  {{#if this.model.isExpanded}}
    <XTreeBranch @select={{this.select}} @hover={{this.hover}} @hoverOut={{this.hoverOut}} @checkable={{this.checkable}} @chosenId={{this.chosenId}} @recalculateStateAction={{action this.recalculateState}} @model={{this.model.children}} as |node|>
      {{yield node}}
    </XTreeBranch>
  {{/if}}
{{else}}
  <XTreeNode @model={{this.model}} @select={{this.select}} @hover={{this.hover}} @hoverOut={{this.hoverOut}} @checkable={{this.checkable}} @syncCheckbox={{this.syncCheckbox}} @recalculateStateAction={{action this.recalculateState}} @chosenId={{this.chosenId}} />

  {{#if this.model.isExpanded}}
    <XTreeBranch @model={{this.model.children}} @select={{this.select}} @hover={{this.hover}} @hoverOut={{this.hoverOut}} @checkable={{this.checkable}} @syncCheckbox={{this.syncCheckbox}} @recalculateStateAction={{action this.recalculateState}} @chosenId={{this.chosenId}} />
  {{/if}}
{{/if}}
