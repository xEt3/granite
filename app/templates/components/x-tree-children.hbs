{{#if hasBlock}}
  {{#x-tree-node
    select=select
    hover=hover
    hoverOut=hoverOut
    checkable=checkable
    chosenId=chosenId
    recalculateStateAction=(action recalculateState)
    model=model as |node|}}
    {{yield node}}
  {{/x-tree-node}}

  {{#if model.isExpanded}}
    {{#x-tree-branch
      select=select
      hover=hover
      hoverOut=hoverOut
      checkable=checkable
      chosenId=chosenId
      recalculateStateAction=(action recalculateState)
      model=model.children as |node|}}
      {{yield node}}
    {{/x-tree-branch}}
  {{/if}}
{{else}}
  {{x-tree-node
    model=model
    select=select
    hover=hover
    hoverOut=hoverOut
    checkable=checkable
    syncCheckbox=syncCheckbox
    recalculateStateAction=(action recalculateState)
    chosenId=chosenId}}

  {{#if model.isExpanded}}
    {{x-tree-branch
      model=model.children
      select=select
      hover=hover
      hoverOut=hoverOut
      checkable=checkable
      syncCheckbox=syncCheckbox
      recalculateStateAction=(action recalculateState)
      chosenId=chosenId}}
  {{/if}}
{{/if}}
