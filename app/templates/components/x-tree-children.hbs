{{#if hasBlock}}
  {{#x-tree-node
    select=this.select
    hover=this.hover
    hoverOut=this.hoverOut
    checkable=this.checkable
    chosenId=this.chosenId
    recalculateStateAction=(action this.recalculateState)
    model=this.model as |node|}}
    {{yield node}}
  {{/x-tree-node}}

  {{#if this.model.isExpanded}}
    {{#x-tree-branch
      select=this.select
      hover=this.hover
      hoverOut=this.hoverOut
      checkable=this.checkable
      chosenId=this.chosenId
      recalculateStateAction=(action this.recalculateState)
      model=this.model.children as |node|}}
      {{yield node}}
    {{/x-tree-branch}}
  {{/if}}
{{else}}
  {{x-tree-node
    model=this.model
    select=this.select
    hover=this.hover
    hoverOut=this.hoverOut
    checkable=this.checkable
    syncCheckbox=this.syncCheckbox
    recalculateStateAction=(action this.recalculateState)
    chosenId=this.chosenId}}

  {{#if this.model.isExpanded}}
    {{x-tree-branch
      model=this.model.children
      select=this.select
      hover=this.hover
      hoverOut=this.hoverOut
      checkable=this.checkable
      syncCheckbox=this.syncCheckbox
      recalculateStateAction=(action this.recalculateState)
      chosenId=this.chosenId}}
  {{/if}}
{{/if}}
